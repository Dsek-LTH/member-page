version: '3'
services:
  migrator:
    build:
      dockerfile: ./migrator/Dockerfile
    volumes:
      - ./migrator/src:/project/app/src
      - ./migrator/migrations:/project/app/migrations
      - ./migrator/seeds:/project/app/seeds
      - ./shared/dist:/project/shared/dist
  core:
    build:
      dockerfile: ./services/core/Dockerfile
    volumes:
      - ./services/core/src:/project/app/src
      - ./shared/dist:/project/shared/dist
  news:
    build:
      dockerfile: ./services/news/Dockerfile
    volumes:
      - ./services/news/src:/project/app/src
      - ./shared/dist:/project/shared/dist
  calendar:
    build:
      dockerfile: ./services/calendar/Dockerfile
    volumes:
      - ./services/calendar/src:/project/app/src
      - ./shared/dist:/project/shared/dist
  booking:
    build:
      dockerfile: ./services/booking/Dockerfile
    volumes:
      - ./services/booking/src:/project/app/src
      - ./shared/dist:/project/shared/dist
  gateway:
    build:
      dockerfile: ./gateway/Dockerfile
    volumes:
      - ./gateway/src:/project/app/src
      - ./shared/dist:/project/shared/dist
      - ./mock-static-content:/project/static-content